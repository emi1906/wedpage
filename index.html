!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Personalizable 4K con Contador Global</title>
    <style>
        /* ... (igual que antes, estilos omitidos por brevedad) ... */
        body { /* ... */ }
        .overlay { /* ... */ }
        header { /* ... */ }
        h1 { /* ... */ }
        .audio-container { /* ... */ }
        main { /* ... */ }
        .contador { /* ... */ }
        .btn { /* ... */ }
        footer { /* ... */ }
    </style>
</head>
<body>
    <div class="overlay">
        <header>
            <h1>¡Bienvenido!</h1>
            <p>Página con fondo 4K, audio automático y contador de vistas global.</p>
        </header>
        <div class="audio-container">
            <audio id="audio" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" autoplay loop>
                Tu navegador no soporta el elemento de audio.
            </audio>
        </div>
        <main>
            <div class="contador" id="contador">
                Cargando vistas globales...
            </div>
            <br>
            <button class="btn" onclick="alert('¡Gracias por visitar!')">¡Haz clic!</button>
        </main>
        <footer>
            Creado con cariño para ti.
        </footer>
    </div>
    <script>
        // CONTADOR DE VISITAS GLOBAL usando CountAPI
        // Cambia 'tuusuario-tuweb' por un identificador único para tu página
        const NAMESPACE = 'emi1906-wedpage';
        const KEY = 'contador';

        function actualizarContador() {
            fetch(`https://api.countapi.xyz/hit/${NAMESPACE}/${KEY}`)
                .then(res => res.json())
                .then(data => {
                    document.getElementById('contador').textContent = 
                        `Esta página ha sido visitada ${data.value} veces.`;
                })
                .catch(() => {
                    document.getElementById('contador').textContent = 
                        'No se pudo cargar el contador global.';
                });
        }
        actualizarContador();

        // AUDIO AUTOPLAY para algunos navegadores con restricción
        window.addEventListener('load', function() {
            var audio = document.getElementById("audio");
            if(audio && audio.paused){
                audio.play().catch(()=>{});
            }
        });
    </script>
</body>
</html>
   

